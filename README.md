# philosophers_21school

## Работа с потоками

Цель программы предотвратить появление Deadlock использованием mutex и правильным распределением ресурсов

Роль ресурса в программе играет вилка. Вилок создается ровно столько, сколько и философов, но сложность в том, что филосов может поесть только в том случае, когда у него в каждой руке по вилке.

Програма принимает 5 - 6 параметров:

1) `number_of_philosophers` - количество философов (потоков)

2) `time_to_die` - время до смерти

3) `time_to_eat` - время приема пищи

4) `time_to_sleep` - время сна

5) `number_of_times_each_philosopher_must_eat` - необязательный параметр, позволяющий ограничить количество приемов пищи, без него потоки работают бесконечно

Во время работы, программа выводит в консоль сообщение о состоянии философа:

`timestamp_in_ms X has taken a fork` - философ взял в руку вилку

`timestamp_in_ms X is eating` - филосов ест

`timestamp_in_ms X is sleeping` - филосов спит

`timestamp_in_ms X is thinking` - если он не спит и не ест, значит он думает

`timestamp_in_ms X died` - филосов умер

Если хотябы один филосов умер, программа завершается.

Для проверки можно воспользоваться визуализатором https://nafuka11.github.io/philosophers-visualizer/ (в который подаются выведенные сообщения о состоянии философов)

## Запуск программы:

`make` - сборка программы 

`./philo 5 800 200 200`  или `./philo 5 800 200 200 3` - запуск программы 

`./philo *number_of_philosophers* *time_to_die* *time_to_eat* *time_to_sleep* ?*number_of_times_each_philosopher_must_eat*?`

`make fclean` - удаление скомпилированных файлов
